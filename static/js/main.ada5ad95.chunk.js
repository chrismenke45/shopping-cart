(this["webpackJsonpshopping-cart"]=this["webpackJsonpshopping-cart"]||[]).push([[0],{28:function(t,e,a){},38:function(t,e,a){"use strict";a.r(e);var c=a(1),i=a.n(c),n=a(18),r=a.n(n),s=(a(28),a(10)),o=a(8),d=a(3),l=a(19),j=a(22),u=a(0);var m=function(t){var e=t.displayCartToggle,a=t.cartQuantity;return Object(u.jsxs)("div",{id:"navBar",children:[Object(u.jsx)("h1",{id:"pageTitle",children:"FORTNITE - Upcoming Items"}),Object(u.jsx)(o.b,{to:"/",style:{textDecoration:"none"},children:Object(u.jsx)("h3",{className:"navItem",children:"Home"})}),Object(u.jsx)(o.b,{to:"/shop",style:{textDecoration:"none"},children:Object(u.jsx)("h3",{className:"navItem",children:"Shop"})}),Object(u.jsxs)("button",{onClick:e,children:[Object(u.jsx)(l.a,{icon:j.a}),a?Object(u.jsxs)("sup",{children:[" ",a]}):null]})]})};var h=function(){return Object(u.jsx)("div",{className:"homePageContent",children:Object(u.jsxs)("div",{className:"homePageNews",children:[Object(u.jsx)("h2",{children:"News"}),Object(u.jsx)("p",{children:"New items are coming Winter 2021! Make sure to check them out in our shop!"})]})})};var b=function(t){var e=t.list,a=t.loaded,c=t.addToCart;return Object(u.jsx)("div",{className:"itemDisplay",children:a?Object(u.jsx)("div",{className:"itemDisplayGrid",children:e.map((function(t){return Object(u.jsxs)("div",{className:"itemCard",children:[Object(u.jsx)(o.b,{"data-id":t.itemId,to:"/shop/".concat(t.itemId),style:{textDecoration:"none"},children:Object(u.jsxs)("figure",{children:[Object(u.jsx)("img",{className:"itemImg",src:t.url,alt:"not available"}),Object(u.jsxs)("figcaption",{children:[t.itemName.toUpperCase(),Object(u.jsx)("br",{}),"$ ".concat(t.cost)]})]})}),Object(u.jsx)("button",{"data-id":t.itemId,onClick:c,className:"addBtn",children:"Add to Cart"})]},t.itemId)}))}):Object(u.jsx)("div",{children:"Loading..."})})},p=a(16),O=a.n(p),x=a(23);function g(){return(g=Object(x.a)(O.a.mark((function t(){var e,a;return O.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,fetch("https://fortnite-api.theapinetwork.com/store/get");case 2:return e=t.sent,t.next=5,e.json();case 5:return a=t.sent,t.abrupt("return",a.data);case 7:case"end":return t.stop()}}),t)})))).apply(this,arguments)}var v=function(){return g.apply(this,arguments)};var f=function(t,e,a){if(a+e>t.length)throw"item count too high, not enough items from api";for(var c=[],i=e;i<a+e;i++)c[i-e]={cost:t[i].store.cost,itemName:"".concat(t[i].item.name," ").concat(t[i].item.type),url:t[i].item.images.icon,description:t[i].item.description,itemId:t[i].itemId,quantity:0},t[i].item.name.toLowerCase().includes(t[i].item.type.toLowerCase())&&(c[i-e].itemName=t[i].item.name);return c};var y=function(t){var e=t.list,a=t.displayCart,c=t.addToCart,i=t.removeFromCart,n=t.displayCartToggle,r=function(t){return t.reduce((function(t,e){return t+e.cost*e.quantity}),0)};return Object(u.jsx)("div",{className:"cartDisplay",children:a?Object(u.jsxs)("div",{className:"cartDisplayGrid",children:[Object(u.jsx)("button",{className:"closeBtn",onClick:n,children:"X"}),Object(u.jsx)("h2",{children:"Your Shopping Cart"}),e.map((function(t){return 0===t.quantity?null:Object(u.jsxs)("div",{className:"cartItemDisplay",children:[Object(u.jsx)("img",{className:"cartPicture",src:t.url,alt:"Not available at this time"}),Object(u.jsx)("h4",{className:"cartItemTitle",children:t.itemName.toUpperCase()}),Object(u.jsxs)("div",{className:"cartItemQuantity",children:[Object(u.jsx)("button",{"data-id":t.itemId,onClick:c,children:"+"}),Object(u.jsxs)("p",{children:[" ",t.quantity," "]}),Object(u.jsx)("button",{"data-id":t.itemId,onClick:i,children:"-"})]})]},t.itemId)})),0!==r(e)?Object(u.jsxs)("p",{children:["Total: $",r(e)]}):Object(u.jsx)("p",{children:"Your cart is empty"})]}):null})};var N=function(t){var e=t.list,a=t.pageId,c=t.loaded,i=t.addToCart,n=e.filter((function(t){return t.itemId===a})),r=Object(s.a)(n,1)[0];return console.log(r),console.log(c),Object(u.jsx)("div",{className:"itemPage",children:c?Object(u.jsxs)("div",{className:"individualPage",children:[Object(u.jsx)("h2",{children:r.itemName}),Object(u.jsx)("img",{src:r.url,alt:"Not available at this time"}),Object(u.jsx)("p",{children:r.description}),Object(u.jsxs)("p",{children:["$",r.cost]}),Object(u.jsx)("button",{"data-id":r.itemId,onClick:i,className:"addBtn",children:"Add to Cart"})]}):Object(u.jsx)("h3",{children:"Loading..."})})};var C=function(){var t=Object(c.useState)([]),e=Object(s.a)(t,2),a=e[0],i=e[1],n=Object(c.useState)(0),r=Object(s.a)(n,2),l=r[0],j=r[1],p=Object(c.useState)(!1),O=Object(s.a)(p,2),x=O[0],g=O[1],C=Object(c.useState)(!1),I=Object(s.a)(C,2),T=I[0],k=I[1];Object(c.useEffect)((function(){v().then((function(t){var e=f(t,0,32);i(e),g(!0)})).catch((function(t){console.log(t.message),alert("Item data not loading, please try again later")}))}),[]);var w=function(){k((function(t){return!t}))},q=function(t){var e=a.map((function(e){return t.target.getAttribute("data-id")===e.itemId&&(e.quantity=e.quantity+1),e}));i(e),j((function(t){return t+1}))};return Object(u.jsxs)(o.a,{children:[Object(u.jsx)(m,{displayCartToggle:w,cartQuantity:l}),Object(u.jsx)(y,{list:a,displayCart:T,addToCart:q,removeFromCart:function(t){var e=a.map((function(e){if(t.target.getAttribute("data-id")===e.itemId){if(e.quantity<=0)return e;e.quantity=e.quantity-1,j((function(t){return t-1}))}return e}));i(e)},displayCartToggle:w}),Object(u.jsxs)(d.c,{children:[Object(u.jsx)(d.a,{exact:!0,path:"/",children:Object(u.jsx)(h,{})}),Object(u.jsx)(d.a,{exact:!0,path:"/shop",children:Object(u.jsx)(b,{list:a,loaded:x,addToCart:q})}),Object(u.jsx)(d.a,{path:"/shop/:id",render:function(t){var e=t.match;return Object(u.jsx)(N,{list:a,pageId:e.params.id,loaded:x,addToCart:q})}})]})]})};r.a.render(Object(u.jsx)(i.a.StrictMode,{children:Object(u.jsx)(C,{})}),document.getElementById("root"))}},[[38,1,2]]]);
//# sourceMappingURL=main.ada5ad95.chunk.js.map